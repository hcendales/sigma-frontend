<mat-card>
  <mat-card-header class="mat-card-header-umv">
    <div class="mat-card-header-text">
      <mat-card-subtitle>
        <h2>{{titulo}}</h2>
      </mat-card-subtitle>
    </div>
  </mat-card-header>

  <mat-form-field class="search-form-field">
    <mat-label>Filtro</mat-label>
    <input matInput [formControl]="search0" placeholder="Filtro" #input>
    <button mat-button *ngIf="searchkey" matSuffix mat-icon-button aria-label="Clear" (click)="onSearchClear()">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>
      <!-- ID Column -->
      <ng-container matColumnDef="id_mantenimiento_vial">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox [(ngModel)]="row.checked"
        (change)=updateCheckedList($event,row.id_mantenimiento_vial)>{{row.id_mantenimiento_vial}}</mat-checkbox>
      </td>
      </ng-container>
      <!-- PK ID Column -->
      <ng-container matColumnDef="pk_id_calzada">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>PK ID </th>
        <td mat-cell *matCellDef="let row"> {{row.pk_id_calzada}}</td>
      </ng-container>
      <!-- RADICADO ENTRADA Column -->
      <ng-container matColumnDef="solicitud_radicado_entrada">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>RADICADO ENTRADA </th>
        <td mat-cell *matCellDef="let row"> {{row.solicitud_radicado_entrada}}</td>
      </ng-container>
      <!-- ESTADO ACTIVIDAD Column -->
      <ng-container matColumnDef="descripcion_origen">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ORIGEN </th>
        <td mat-cell *matCellDef="let row"> {{row.descripcion_origen}}</td>
      </ng-container>
      <!-- ORIGEN ENTRADA Column -->
      <ng-container matColumnDef="descripcion_estado_pk">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ESTADO </th>
        <td mat-cell *matCellDef="let row"> {{row.descripcion_estado_pk}}</td>
      </ng-container>
      <!-- FECHA ASIGNACION Column -->
      <ng-container matColumnDef="fecha_asignacion">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>FECHA ASIGNACION </th>
        <td mat-cell *matCellDef="let row"> {{row.fecha_asignacion | date :'dd/MM/YYYY'}}</td>
      </ng-container>
      <!-- VENCIMIENTO Column -->
      <ng-container matColumnDef="fecha_vencimiento">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>VENCIMIENTO</th>
        <td mat-cell *matCellDef="let row" [ngClass]="getClassTiempo(row.fecha_vencimiento)"> {{row.fecha_vencimiento | date :'dd/MM/YYYY'}}</td>
      </ng-container>
      <!-- RESPONSABLE Column -->
      <ng-container matColumnDef="nombre_responsable_visita">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>RESPONSABLE DIAGNOSTICO</th>
        <td mat-cell *matCellDef="let row"> {{row.nombre_responsable_visita}}</td>
      </ng-container>
      <!-- Localidad column -->
      <ng-container matColumnDef="descripcion_localidad">
        <th mat-header-cell *matHeaderCellDef>LOCALIDAD</th>
        <td mat-cell *matCellDef="let row">{{row.descripcion_localidad}}</td>
      </ng-container>
      <!-- ZONA column -->
      <ng-container matColumnDef="descripcion_zona">
        <th mat-header-cell *matHeaderCellDef>ZONA</th>
        <td mat-cell *matCellDef="let row">{{row.descripcion_zona}}</td>
      </ng-container>
      <!-- BARRIO column -->
      <ng-container matColumnDef="descripcion_barrio">
        <th mat-header-cell *matHeaderCellDef>BARRIO</th>
        <td mat-cell *matCellDef="let row">{{row.descripcion_barrio}}</td>
      </ng-container>
      <!-- UPZ column -->
      <ng-container matColumnDef="descripcion_upz">
        <th mat-header-cell *matHeaderCellDef>UPZ</th>
        <td mat-cell *matCellDef="let row">{{row.descripcion_upz}}</td>
      </ng-container>
      <!-- TRABAJAR Column -->
      <ng-container matColumnDef="TRABAJAR">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ACCIONES</th>
        <td mat-cell *matCellDef="let row">
          <div class="example-button-row">
            <button mat-flat-button color="primary" (click)="onRegistroVisita(row)">TRABAJAR</button>
          </div></td>
      </ng-container>

      <!--Campos de busqueda-->
      <ng-container matColumnDef="search1">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search1">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search2">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search2">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search3">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search3">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search4">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search4">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search5">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search5">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search6">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search6">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search7">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search7">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search8">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search8">
          </mat-form-field>
      </ng-container>
      <!-- ActualizaciÃ³n campos solicitados -->
      <!-- localidad search column-->
      <ng-container matColumnDef="search9">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search9">
          </mat-form-field>
      </ng-container>
      <!-- Zona search column-->
      <ng-container matColumnDef="search10">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search10">
          </mat-form-field>
      </ng-container>
      <!-- Barrio search column-->
      <ng-container matColumnDef="search11">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search11">
          </mat-form-field>
      </ng-container>
      <!-- Upz search column-->
      <ng-container matColumnDef="search12">
        <th mat-header-cell *matHeaderCellDef>
          <mat-form-field class="filter" floatLabel="never">
            <mat-label>Buscar</mat-label>
            <input matInput autocomplete="off" [formControl]="search12">
          </mat-form-field>
      </ng-container>
      <ng-container matColumnDef="search13">
        <th mat-header-cell *matHeaderCellDef>
            <button mat-flat-button color="primary" (click)="onClearFilters()">LIMPIAR</button>
      </ng-container>
      <!--Fin campos de busqueda-->

      <!-- No hay datos Column -->
      <ng-container matColumnDef="noData">
        <mat-footer-cell *matFooterCellDef colspan="6">
          No hay datos
        </mat-footer-cell>
      </ng-container>
      <!-- Cargando datos Column -->
      <ng-container matColumnDef="Cargando">
        <mat-footer-cell *matFooterCellDef colspan="6">
          Cargando datos...
        </mat-footer-cell>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef= "displayedColumns"></tr>
      <tr mat-header-row *matHeaderRowDef= "filterColumns"></tr>

      <tr mat-row *matRowDef="let row; columns: displayedColumns;"
        ></tr>
      <tr mat-footer-row *matFooterRowDef= "['Cargando']" [ngClass]="{'hide':dataSource!=null}"></tr>
      <tr mat-footer-row *matFooterRowDef= "['noData']" [ngClass]="{'hide':!(dataSource==null)}"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No hay datos para filtro</td>
      </tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20, 100]" [pageSize]="5" showFirstLastButtons></mat-paginator>
  </div>
</mat-card>
